<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/main.css">
	<title>Wireless Communication</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/css/style.min.css">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<style>
		.inline-form {
			display: flex;
			align-items: center;
		}

		.inline-form label {
			margin-right: 15px;
		}
		#imageDisplay2 {
            max-width: 180%;
            height: 100%;
        }
	</style>
</head>

<body>
	<div class="columns is-centered">
		<div class="column is-one-quarter v-instruction-title">
			Tasks
		</div>
		<div class="column">
			<div class="tab">
				<button class="tablinks" onclick="openPart(event, 'task1')" id="default">Equalizer Simulation</button>
				<button class="tablinks" onclick="openPart(event, 'task2')">Performance Analysis</button>
			</div>
		</div>
	</div>

	<div id="task1" class="tabcontent">
		<section class="fre" id="TASK1">
			<div class="max-width">
				<h2 class="title">Equalizer Simulation</h2>
				<div class="columns is-centered">
					<div class="v-collapsible-instruction-container v-instruction-container" style="margin-top: 2%;">
						<div class="v-collapsible is-size-5">Instructions</div>
						<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
							<h3><b>To understand the different receiver techniques, follow these steps: </b></h3>
							<br>
							<h3>
								<ol>
									<li>Enter your data string in the text box on the left panel.</li>
									<li>Click the "Calculate" button to simulate the channel.</li>
									<li>After simulation, select an equalization technique (ZF or MMSE) from the radio buttons that appear.</li>
									<li>Click "Show Results" to view the detailed performance comparison on the right.</li>
									<li>Observe the signal flow visualization in the center panel to understand how each technique processes the signal.</li>
								</ol>
							</h3>
							<br>
						</div>
					</div>
				</div>
				<div class="columns-container">
					<div class="left-column box">
				
									<div class="control-panel">
											<h4>Controls</h4>
											<div class="input-group">
													<label for="inputData">Data String:</label>
													<input type="text" class="form-control" id="inputData" placeholder="e.g., 1010110" pattern="[01]*" maxlength="8">
											</div>
											
											<div class="input-group">
													<label for="noiseVarianceInput">Noise Variance (σ²):</label>
													<input type="number" class="form-control" id="noiseVarianceInput" value="0.05" min="0" max="1" step="0.01">
											</div>

											<button class="btn btn-primary w-100 mt-3" id="simulateBtn" onclick="runSimulation()">Simulate Channel</button>
											
											<div class="technique-selector" id="techniqueSelector" style="display: none;">
													<h5>Select Technique:</h5>
													<div class="technique-options">
															<div class="technique-option"><input type="radio" id="zf" name="technique" value="ZF"><label for="zf">ZF</label></div>
															<div class="technique-option"><input type="radio" id="mmse" name="technique" value="MMSE"><label for="mmse">MMSE</label></div>
													</div>
											</div>
									</div>
						

					
					
					</div>
					<div class="center-column box">

		
								<div class="visualization-area">
										<div id="loadingIndicator" class="loading" style="display: flex; flex-direction: column; justify-content: center; align-items: center;"><div class="spinner"></div><p>Processing...</p></div>
										<div class="signal-flow" id="signalFlow"><div class="signal-block"><h4>Signal Flow</h4><div class="signal-value" id="originalData">Use controls on the left to start</div></div></div>
								</div>
			
					</div>
					<div class="right-column box">
					
					
								<div id="resultsContainer" style="display: none;">
										<div class="comparison-panel">
												<h4>Output Comparison</h4>
												<table class="comparison-table">
														<tbody>
																<tr>
																		<td class="label">Original:</td>
																		<td class="data-col" id="compareOriginal"></td>
																</tr>
																<tr>
																		<td class="label">ZF:</td>
																		<td class="data-col" id="compareZf"></td>
																</tr>
																<tr>
																		<td class="label">MMSE:</td>
																		<td class="data-col" id="compareMmse"></td>
																</tr>
														</tbody>
												</table>
										</div>
										<div class="results-panel mt-4">
												<h4>Detailed Results</h4>
												<div class="metric-card"><div class="metric-label">Bit Error Rate (BER)</div><div class="metric-value" id="berValue">-</div></div>
												<div class="metric-card"><div class="metric-label">Technique Displayed</div><div class="metric-value" id="techniqueUsed">-</div></div>
										</div>
								</div>
			
						</div>
			
				</div>
			</div>
		</section>
	</div>
	<div id="task2" class="tabcontent">
		<section class="fre" id="TASK2">
			<div class="max-width">
				<h2 class="title">performance Analysis</h2>
				<div class="columns is-centered">
					<div class="v-collapsible-instruction-container v-instruction-container" style="margin-top: 2%;">
						<div class="v-collapsible is-size-5">Instructions</div>
						<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
							<h3><b>To understand the different receiver techniques, follow these steps: </b></h3>
							<br>
							<h3>
								<ol>
									<li>Enter your data string in the text box on the left panel.</li>
									<li>Click the "Calculate" button to simulate the channel.</li>
									<li>After simulation, select an equalization technique (ZF or MMSE) from the radio buttons that appear.</li>
									<li>Click "Show Results" to view the detailed performance comparison on the right.</li>
									<li>Observe the signal flow visualization in the center panel to understand how each technique processes the signal.</li>
								</ol>
							</h3>
							<br>
						</div>
					</div>
				</div>
				<div class="columns-container">
					<div class="left-column box">
				
				
							<div class="perf-analysis-table"><table class="table table-striped"><thead><tr><th>Technique</th><th>Performance</th><th>Complexity</th></tr></thead><tbody><tr><td><strong>Zero Forcing</strong></td><td><span class="performance-indicator good">Good at High SNR</span></td><td><span class="performance-indicator excellent">Low</span></td></tr><tr><td><strong>MMSE</strong></td><td><span class="performance-indicator excellent">Excellent Overall</span></td><td><span class="performance-indicator good">Medium</span></td></tr></tbody></table></div>
							<button class="btn btn-primary w-100 mt-4" id="generateChartBtn" onclick="generatePerformanceChart()">Generate Performance Chart</button>
			
					
					</div>
					<div class="center-column box">

		
						<div class="col-lg-8"><div class="chart-container"><div id="chartLoadingIndicator" class="loading"><div class="spinner"></div><p>Running Monte Carlo simulation... This may take a moment.</p></div><canvas id="performanceChart" width="400" height="200"></canvas></div></div>
			
					</div>
					<div class="right-column box">
						<div class="instructions-card"><h3>Performance Comparison</h3><p>This tool runs a Monte Carlo simulation to compare the performance of ZF and MMSE equalizers over a range of Signal-to-Noise Ratios (SNR). Lower Bit Error Rate (BER) is better. Click the button to start the simulation.</p></div>
			
						</div>
			
				</div>
			</div>
		</section>
	</div>


	<script src="./js/main.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/js/script.js"></script>
</body>

</html>
